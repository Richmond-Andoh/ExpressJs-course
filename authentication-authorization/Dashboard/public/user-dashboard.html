<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="https://bootswatch.com/5/superhero/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css">
</head>
<body>
    <p>This is a secret page that is only available to logged-in users. Congratulations!!! You are in on our secret!</p>
    <a href="/logout">Log Out</a>

    <div class="container" id="container">
        <table class="table table-success table-striped" id="example">
            <thead>
              <tr>
                <th>UserId</th>
                <th>Id</th>
                <th>Title</th>
                <th>Completed</th>
              </tr>
            </thead>
            <tbody id="tbody">

            </tbody>       
        </table>
    </div>
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>

  <script>
    $(document).ready(function () {
      $('#example').DataTable();
     });
  </script>
    <script>
        fetch("https://jsonplaceholder.typicode.com/todos")
        .then((res) => res.json())
        .then((data) => {
            //console.log(data)
            let tbody = document.getElementById("tbody")
            let eachData = data.forEach(user => {
                let tr = document.createElement("tr")
                let td1 = document.createElement("td")
                td1.innerHTML = user.userId;
                let td2 = document.createElement("td")
                td2.innerHTML = user.title;
                let td3 = document.createElement("td")
                td3.innerHTML = user.id;
                let td4 = document.createElement("td")
                td4.innerHTML = user.completed;
                tr.append(td1);
                tr.append(td2)
                tr.append(td3)
                tr.append(td4)
                tbody.append(tr)
            })
            
        })  
    </script>

  
</body>
</html>